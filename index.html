<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Show</title>

	<link id="favicon" rel="icon" href="show.png"/>

</head>
<body>

	<h1>Teste</h1>

	<img src="show.png" id="icon-show" alt="">
	<img src="hidden.png" id="icon-hidden" alt="">

	<script src="favico.min.js"></script>
	<script>

		window.onload = function(){
			var iconHidden = "hidden.png";
			var iconShow = "show.png";
			var interval;

			function handleVisibilityChange() {
				if (document.hidden) {
					document.title = "Hidden";
					document.getElementById('favicon').href = iconHidden;
					var count = 1;
					var favicon = new Favico({
						animation:'popFade'
					});
					interval = setInterval(function(){
						count++;
						favicon.badge(count);
					}, 2000)

				} else  {
					document.title = "Show"
					document.getElementById('favicon').href = iconShow;
					var favicon = new Favico({
						animation:'popFade'
					});
					clearInterval(interval);
					favicon.reset();
				}
			}

			document.addEventListener("visibilitychange", handleVisibilityChange, false);
		}

	</script>

</body>
</html>
